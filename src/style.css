body {
    font-family: 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
    background-color: #333;
    color: #eee;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

#game-container {
    max-width: 1536px;
    max-height: 700px;
    width: 95vw;
    height: 95vh;
    background-color: #222;
    border: 2px solid #888;
    box-shadow: 0 0 15px rgba(0,0,0,0.7);
    position: relative;
    padding: 20px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    overflow: auto;
}

.screen {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    /* justify-content: center; */
}

.screen.hidden {
    display: none;
}

h1, h2, h3 {
    text-align: center;
    color: #eee;
    text-shadow: 0 0 5px #ffc107;
    margin-top: 0;
    margin-bottom: 10px;
}

button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    margin: 5px;
    border: 1px solid #777;
    border-radius: 5px;
    background-color: #444;
    color: #eee;
    transition: all 0.2s;
}

button:hover:not(:disabled) {
    background-color: #666;
    border-color: #999;
}
button:disabled {
    cursor: not-allowed;
    opacity: 0.5;
}

input, select {
    padding: 10px;
    margin: 10px;
    font-size: 16px;
    background-color: #333;
    border: 1px solid #777;
    color: #eee;
    border-radius: 5px;
}

/* Battle Screen Layout */
#battle-screen {
    justify-content: flex-start;
}
#monster-area {
    width: 100%;
    height: 150px;
    border: 1px solid #555;
    margin-bottom: 10px;
    padding: 10px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    background: rgba(0,0,0,0.2);
    border-radius: 5px;
}
.monster-info { text-align: center; padding: 10px; border-radius: 5px; transition: all 0.2s; }
.monster-info.targetable { cursor: pointer; background-color: rgba(255, 255, 0, 0.3); box-shadow: 0 0 10px yellow; }
.monster-info.defeated { opacity: 0.5; }

#party-area {
    width: 100%;
    flex-grow: 1;
    display: flex;
    border: 1px solid #555;
    border-radius: 5px;
    background: rgba(0,0,0,0.2);
}
#party-status-battle { width: 50%; padding: 10px; border-right: 1px solid #555; overflow-y: auto; }
#command-container { width: 50%; padding: 10px; position: relative; }
#command-window, .sub-window { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
#command-window.hidden, .sub-window.hidden { display: none; }
.sub-window p { grid-column: 1 / -1; text-align: center; margin: 0; }
.sub-window .back-to-command { grid-column: 1 / -1; }

.log-window { width: 100%; height: 120px; border: 1px solid #555; overflow-y: scroll; padding: 10px; box-sizing: border-box; background-color: #1a1a1a; margin: 10px 0; border-radius: 5px; font-size: 14px; }
#battle-log p { margin: 0 0 5px 0; }

#party-status-hub {
    width: 100%;
    min-height: 150px;
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid #555;
    padding: 10px;
    margin-bottom: 20px;
    background: rgba(0,0,0,0.2);
    border-radius: 5px;
}
.hub-menu { display: flex; flex-wrap: wrap; justify-content: center; }

.party-member { margin-bottom: 10px; font-size: 14px; padding: 5px; border-radius: 5px; transition: all 0.2s; }
#party-status-hub .party-member { cursor: pointer; }
#party-status-hub .party-member:hover { background-color: #444; }
.party-member.active-turn { background-color: rgba(255, 255, 0, 0.2); }
.party-member.targetable { cursor: pointer; background-color: rgba(0, 255, 0, 0.3); box-shadow: 0 0 10px lime; }

/* Party Management Screen */
.party-management-container { display: flex; width: 100%; flex-grow: 1; gap: 20px; margin-bottom: 20px; }
.character-list-area { width: 50%; border: 1px solid #555; border-radius: 5px; padding: 10px; display: flex; flex-direction: column; }
.character-list { flex-grow: 1; overflow-y: auto; background: rgba(0,0,0,0.2); padding: 5px; }
.character-card { background-color: #333; padding: 10px; margin-bottom: 5px; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; }
.character-card button { padding: 5px 10px; font-size: 12px; }

/* Character Detail Screen */
.detail-container { display: flex; width: 100%; flex-grow: 1; gap: 20px; margin-bottom: 15px; flex-wrap: wrap; }
.detail-left, .detail-right { flex: 1 1 340px; display: flex; flex-direction: column; gap: 15px; min-width: 340px;}
#char-detail-header { text-align: center; }
#char-detail-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 5px; }
#char-detail-stats span { background-color: #333; padding: 5px; border-radius: 3px; }
#char-detail-equipment .equip-slot { display: flex; justify-content: space-between; background-color: #333; padding: 8px; border-radius: 3px; margin-bottom: 5px; }
.inventory-section, .skill-section { display: flex; flex-direction: column; flex-grow: 1; }
.item-list { flex-grow: 1; overflow-y: auto; border: 1px solid #555; border-radius: 5px; background: rgba(0,0,0,0.2); padding: 5px; }
.item-list-entry { background-color: #333; padding: 8px; margin-bottom: 5px; border-radius: 3px; display: flex; justify-content: space-between; align-items: center; }
.item-list-entry button { padding: 5px 10px; font-size: 12px; }
.item-list-entry .skill-desc { font-size: 12px; opacity: 0.7; margin-top: 4px; }

/* Log Colors */
.log-window p { margin: 0 0 5px 0; transition: color 0.3s; }
.log-levelup { color: #81c784; font-weight: bold; } /* Green */
.log-item { color: #64b5f6; } /* Blue */
.log-win { color: #ffd54f; font-weight: bold; text-shadow: 0 0 5px #ffc107; } /* Gold */
.log-lose { color: #e57373; font-weight: bold; } /* Red */
.log-damage { color: #ff8a65; } /* Orange-Red */
.log-heal { color: #a5d6a7; } /* Light Green */
.log-info { color: #90a4ae; } /* Blue Grey */
.log-critical { color: #ffeb3b; } /* Yellow */
.log-resist { color: #b0bec5; } /* Blue Grey Light */
.weakness-info { color: #ffadad; font-size: 12px; }


#char-detail-owned-skills .item-list-entry {
    flex-direction: column;
    align-items: flex-start;
}
#char-detail-owned-skills .skill-desc {
    padding-left: 10px;
}

.character-select-list { display: flex; flex-direction: column; gap: 10px; margin: 20px 0; }
.stat-allocator { display: flex; justify-content: space-between; align-items: center; width: 200px; margin: 5px 0; }

/* EXP Bar Styles */
#char-exp-section {
    margin-top: 10px;
}

.exp-bar-container {
    width: 100%;
    height: 22px;
    background-color: #1a1a1a;
    border: 1px solid #555;
    border-radius: 5px;
    position: relative;
    margin-top: 5px;
    box-sizing: border-box;
}

.exp-bar-fill {
    height: 100%;
    background-color: #4caf50; /* A nice green */
    border-radius: 4px;
    transition: width 0.5s ease-in-out;
}

.exp-bar-text {
    position: absolute;
    width: 100%;
    text-align: center;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    text-shadow: 1px 1px 1px #000;
    font-size: 12px;
    line-height: 20px;
}

/* Result Screen EXP Bars */
#result-exp-bars {
    width: 100%;
    padding: 0 10px;
    margin-top: 10px;
    box-sizing: border-box;
}

.result-exp-bar-item {
    margin-bottom: 8px;
}

.result-exp-bar-item .name {
    display: block;
    margin-bottom: 4px;
    font-size: 14px;
}

#result-exp-bars .exp-bar-fill {
    transition: width 1s ease-out;
}

/* Delete Button Style */
.delete-btn {
    background-color: #a03232; /* Dark Red */
    border-color: #7c2424;
}

.delete-btn:hover:not(:disabled) {
    background-color: #c03f3f; /* Brighter Red on Hover */
    border-color: #a03232;
}

/* Shop Screen Styles */
#player-gold-display {
    align-self: flex-end;
    padding: 8px 15px;
    margin-bottom: 10px;
    background-color: rgba(0,0,0,0.3);
    border: 1px solid #555;
    border-radius: 5px;
    font-size: 16px;
    font-weight: bold;
}

.shop-container {
    display: flex;
    width: 100%;
    flex-grow: 1;
    gap: 20px;
    margin-bottom: 20px;
}

.shop-panel {
    width: 50%;
    border: 1px solid #555;
    border-radius: 5px;
    padding: 10px;
    display: flex;
    flex-direction: column;
    background-color: rgba(0,0,0,0.1);
}

.shop-panel h3 {
    margin-top: 0;
    text-align: center;
}
